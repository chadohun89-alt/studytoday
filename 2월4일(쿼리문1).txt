select * from item where category = '총';

select 조회(테이블에서 데이터 가져오기)
delete 삭제(테이블의 데이터 삭제)
update 수정(테이블의 데이터를 수정)

select 컬럼명, 컬러명 from 테이블명;
select * from 테이블명 -> * : 해당 테이블의 모든 컬럼

select * from user;
select user_id as loginid from user;
select address, tel from user;
select * from user, cart;
select address, tel, status from user, cart;
select u.user_id, c.user_id from user u, cart c;

함수
1. 집계함수 - 개수, sum 합계, avg 평균, max 최대값, min 최소값
count - 갯수

select count(id) as count_id from user;
select count(*) as count_id from item;

select sum(item_qa) from item;
select avg(item_price) from item;
select max(item_price) from item;
select min(item_price) from item;

select year(created_at) from user;

2. 날짜에서 년도만 추출 year

select month(created_at) from user;

select day(created_at) from user;

select datediff('2026-01-21', created_at) from user;
datediff 날짜 차이 구하기

select date_add(created_at, interval 5 day) from user;
select DATE_SUB(created_at, interval 11 day) from user;

3. 추출

select left(item_detail, 3) from item;
select right(item_detail, 3) from item;

4. 중복제거 distinct 컬럼명

select distinct category from item;
select count(distinct category) from item;

5. 조건이 있는 조회
where의 위치는 from 테이블 명 where 조건 이다. 
where 뒤에 조건을 작성한다.
조건식
 자바에서 조건식은 변수 비교연산자 비교값 ( num > 10 )
 db에서는 컬럼명 비교연산자 비교값 ( item_price > 1000000 )
 &&, ||, ! -> and, or, not
 
 select * from item where item_price > 2000000;
 item 테이블에서 상품의 가격(item_price)이 2,000,000 보다 큰상품 조회
 
 select * from item where item_price > 2000000 
 and item_qa >= 10;
 상품테이블에서 가격이 이백만원보다 크고, 재고량이 10개 이상인 상품 조회
 
 상품테이블에서 재고량이 10개 이하이고, 상태가 soldout인 상품 조회
 
select * from item
 where item_qa <= 10
 and status = 'soldout';

상품테이블에서 오천만원 이하인 미사일을 조회 하세요

select * from item 
where item_price<=50000000 
and category = '미사일';

로그인은 데이터베이스에서 어떻게 쿼리문이 작성되어야하나

select * from user
where user_id = '철수'
and password = '1234';

-- String sql = "select * from user where user_id = '"+id+"'
-- and password = '"+pw+"';

6. 상품 검색 기능
상품테이블에서 상품명이 F로 시작하는 거 조회

select * from item
where item_name like '%F%';

상품 검색을 하는데 상품명에서도 찾아야 되고 상품 설명에서도 찾으려면?

select * from item where item_name like '%F%' 
or item_detail like '%F%';

7. between -> 범위검색

select * from item
where id between 11 and 15;

상품 가격이 5백만원 이상 2천만원 이하

select * from item
where item_price between 5000000 and 50000000;

select * from item
where  item_detail between '가' and '라';

8. 제한 limit

select * from item limit 3;

select * from item
where item_price > 20000000 limit 3, 4;

limit 4 -> 조회된 결과에서 앞에 4개만 출력
limit 3, 4 -> 조회된 결과에서 앞에서 4번째부터 4개 출력
limit 11, 3 -> 조회된 결과에서 12번째부터 3개 출력

문제 : 카테고리가 총 또는 탱크인 상품 조회

select * from item
where category = '총'
or category = '탱크';

문제 : 주문 중에서 9월 10일~20일에 주문 조회

select * from orders
where order_at between '2025-09-01' and '2025-09-20';

9. 정렬 order by 컬럼명 , asc 오름차순 desc 내림차순

select * from orders order by order_at desc;

10. group by -> 그룹 묶기

select category, count(*) from item group by category;

select count(*) from item where category = '총';

select category, sum(item_price) from item group by category;

select category from item
where item_price > 20000000 group by category;

카테고리중에서 상품이 8개 이상인 카테고리는??

select category from item
group by category having count(*) >= 8 ;

카테고리 중에서 상품가격의 평균이 높은 카테고리

select category, from item
where item_price > a
group by category having  AVG(item_price);

select category from item
group by category order by avg(item_price) desc limit 1;

group by 내가 만들고자 하는 프로그램에서 DB에 조회를 할 때
~ 별로, ~ 마다, ~ 단위로, 각각 몇개, 각각 평균은

문제 : sale인 상품과 soldout인 상품은 각각 몇개?

select status, count(*) from item
group by status;

11. join -> 여러 테이블에서 조회 하는 방법
inner join -> 기본적인 join 조회 : 양쪽 테이블에 모두 있는 데이터만

select u.tel, c.status 
from user u inner join cart c
on u.id = c.user_id ;

cart_list 테이블에 있는 상품은 무엇이 있는가?

select i.item_name
from cart_list cl inner join item i
on cl.item_id = i.id;

left join : 왼쪽 테이블은 전부 조회, 오른쪽은 있으면 하고 없으면 안 한다.(1:N관계에서 1이 왼쪽)

select  i.item_name, o.total_price
from item i left join order_detail o
on o.item_id = i.id;

right join : 오른쪽 테이블 전부 조회, 왼쪽은 있으면 출력

join 언제하냐?
다른 테이블의 데이터도 필요한 경우
관계형성된 테이블 (1:1, 1:n ....)
컬럼이 다른 테이블


현재 관계
user 1 : cart 1
cart 1 : cart_list  N
cart_list N : item 1
item 1 : item_image N
orders N : user 1
orders 1 : order_detail N
item 1 : order_detail N

select u.user_id , u.address, c.id as 장바구니번호
from user u join cart c
on u.id = c.user_id
where u.user_id = '철수';

장바구니 번호가 2번인 사람의 장바구니에는 어떤 상품들이 담겨 있는가?
-> 장바구니에 있는 상품명과 금액 출력

select i.item_name , i.item_price
from cart_list cl join item i on cl. item_id = i.id
where cl.cart_id = 2;

select i.item_name, i.item_price
from item i
join cart_list cl on i.id = cl.item_id 
join cart c on cl.cart_id = c.id 
join user u on c.user_id = u.id 
where u.user_id = '철수';


select * from item 
where item_price<=50000000 
and category = '미사일';

로그인은 데이터베이스에서 어떻게 쿼리문이 작성되어야하나

select * from user
where user_id = '철수'
and password = '1234';

-- String sql = "select * from user where user_id = '"+id+"'
-- and password = '"+pw+"';

5. 상품 검색 기능
상품테이블에서 상품명이 F로 시작하는 거 조회

select * from item
where item_name like '%F%';

상품 검색을 하는데 상품명에서도 찾아야 되고 상품 설명에서도 찾으려면?

select * from item where item_name like '%F%' 
or item_detail like '%F%';

6. between -> 범위검색

select * from item
where id between 11 and 15;

상품 가격이 5백만원 이상 2천만원 이하

select * from item
where item_price between 5000000 and 50000000;

select * from item
where  item_detail between '가' and '라';

7. 제한 limit

select * from item limit 3;

select * from item
where item_price > 20000000 limit 3, 4;

limit 4 -> 조회된 결과에서 앞에 4개만 출력
limit 3, 4 -> 조회된 결과에서 앞에서 4번째부터 4개 출력
limit 11, 3 -> 조회된 결과에서 12번째부터 3개 출력

문제 : 카테고리가 총 또는 탱크인 상품 조회

select * from item
where category = '총'
or category = '탱크';

문제 : 주문 중에서 9월 10일~20일에 주문 조회

select * from orders
where order_at between '2025-09-01' and '2025-09-20';

8. 정렬 order by 컬럼명 , asc 오름차순 desc 내림차순

select * from orders order by order_at desc;

9. group by -> 그룹 묶기

select category, count(*) from item group by category;

select count(*) from item where category = '총';

select category, sum(item_price) from item group by category;

select category from item
where item_price > 20000000 group by category;

카테고리중에서 상품이 8개 이상인 카테고리는??

select category from item
group by category having count(*) >= 8 ;

카테고리 중에서 상품가격의 평균이 높은 카테고리

select category, from item
where item_price > a
group by category having  AVG(item_price);

select category from item
group by category order by avg(item_price) desc limit 1;

group by 내가 만들고자 하는 프로그램에서 DB에 조회를 할 때
~ 별로, ~ 마다, ~ 단위로, 각각 몇개, 각각 평균은

문제 : sale인 상품과 soldout인 상품은 각각 몇개?

select status, count(*) from item
group by status;

10. join -> 여러 테이블에서 조회 하는 방법
inner join -> 기본적인 join 조회 : 양쪽 테이블에 모두 있는 데이터만

select u.tel, c.status 
from user u inner join cart c
on u.id = c.user_id ;

cart_list 테이블에 있는 상품은 무엇이 있는가?

select i.item_name
from cart_list cl inner join item i
on cl.item_id = i.id;

left join : 왼쪽 테이블은 전부 조회, 오른쪽은 있으면 하고 없으면 안 한다.(1:N관계에서 1이 왼쪽)

select  i.item_name, o.total_price
from item i left join order_detail o
on o.item_id = i.id;

right join : 오른쪽 테이블 전부 조회, 왼쪽은 있으면 출력

join 언제하냐?
다른 테이블의 데이터도 필요한 경우
관계형성된 테이블 (1:1, 1:n ....)
컬럼이 다른 테이블


현재 관계
user 1 : cart 1
cart 1 : cart_list  N
cart_list N : item 1
item 1 : item_image N
orders N : user 1
orders 1 : order_detail N
item 1 : order_detail N

select u.user_id , u.address, c.id as 장바구니번호
from user u join cart c
on u.id = c.user_id
where u.user_id = '철수';

장바구니 번호가 2번인 사람의 장바구니에는 어떤 상품들이 담겨 있는가?
-> 장바구니에 있는 상품명과 금액 출력

select i.item_name , i.item_price
from cart_list cl join item i on cl. item_id = i.id
where cl.cart_id = 2;

select i.item_name, i.item_price
from item i
join cart_list cl on i.id = cl.item_id 
join cart c on cl.cart_id = c.id 
join user u on c.user_id = u.id 
where u.user_id = '철수';